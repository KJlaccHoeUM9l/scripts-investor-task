# Задача об инвесторе

Данный проект решает задачу об инвесторе с помощью динамического 
программирования.

## Рассмотренные подходы к оптимизации
1. Использование типов `NumPy` - для хранения данных 
используются типы `numpy.int32` и `numpy.float32`. Данный
подход работает медленнее, чем встроенные типы.  Это связано
с тем, что динамическое программирование предполагает
последовательное решение подзадач на предыдущих шагах,
т.е. возникает зависимость по данным в предшествующие
моменты времени, из чего следует невозможность
использования быстрых векторизованных операций `numpy` над
всем скопом данных сразу.
2. Попытка использования `numba` не увенчалась успехом, 
потому что она "стремно" работает с классами, а переписывать
по 10 раз один и тот же код как-то не круто.
3. Так как задача динамического программирования — это
рекурсивная задача, то можно написать код для ее решения
в виде рекурсии и использовать `кэширование` рекурсивных
вызовов.

В итоге сравнение производиться между обычным алгоритмом
(не рекурсивным) и рекурсивным с использованием кэширования.

## Структура проекта
* [interfaces](interfaces)- директория, содержащая
абстрактные классы для инвестора и облигаций.
* [pure_python](pure_python) - содержит файлы для работы с инвестором
и облигациями, используюя только встроенные типы данных 
python.
* [with_numpy_types](with_numpy_types) - аналогично
`pure_python`, только с типами `numpy`.
* [test_files](test_files) - тестовые входные данные.
* [optimization_algorithms.py](optimization_algorithms.py) -
файл, который содержит описанные алгоритмы динамического
программирования.
* [main.py](main.py) - основной файл, который обрабатывает
данные.

## Запуск
`Обязательные` параметры запуска:
* `-i` - путь к `.txt` файлу, которые содержит входные данные.
* `-o` - путь к `директории`, в которую будет сохранен
файл с результатами.

`Не обязательные` параметры запуска:
* `-a` - текущий тип алгоритма:
    * `base` - не рекурсивный алгоритм
    * `base_recursive` - рекурсивный алгоритм без кэширования
    (работает медленнее, чем `base`)
    * `opt` - рекурсивный алгоритм с кэшированием
* `-use_numpy_types` - использование типов `numpy`:
    * `0` - не использовать
    * `1` - использовать
    
Пример командной строки:
```bash
python main.py -a opt -i test_files\random_data_small.txt -o C:\study\script_languages -use_numpy_types 0
```
